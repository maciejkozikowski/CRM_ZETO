<div class="main" *ngIf = "info.token; else loggedOut">
    <div class="formMargin">
        <form (submit)="searchClient(pesel)">
            <div class="formContent">
                <label>Podaj PESEL</label>
                <input type="text" name="pesel" required [(ngModel)]="pesel" />
            </div>
        <div class="formButton">
            <button class="bigButton" >Szukaj</button>
        </div>
        
    </form>
    
    <button class="bigButton" (click)="getAllClients()">Pokaż wszystko</button>
    <button class="bigButton" routerLink="form">Dodaj</button>
    </div>
    
    
    <table >
    <th>
        Id
    </th>
    <th>
        Imię
    </th>
    <th>
        Nazwisko
    </th>
    <th>
        PESEL
    </th>
    <th>
        Adres zameldowania
    </th>
    <th>
        Adres korespondencyjny
    </th>
    <th>
        Telefon kontaktowy
    </th>
    <th>
        e-mail
    </th>
    <tr *ngFor="let client of clients">
        <!--wykonuje się pętla dla listy lists (nazwa taka jak w KlienciResource)-->
        <td>{{ client.id }}</td>
        <td>{{ client.imie }}</td>
        <td>{{ client.nazwisko }}</td>
        <td>{{ client.pesel }}</td>
        <td>{{ client.adres_zam }}</td>
        <td>{{ client.adres_kon }}</td>
        <td>{{ client.telefon }}</td>
        <td>{{ client.email }}</td>
        <td class="noBackground"><button (click)="showFacture(client.id)"> Faktura </button></td>
        <td class="noBackground"><button [routerLink]="['form', client.id]"> Edytuj </button></td>
        <td class="noBackground"><button (click)="deleteClient(client.id)"> Usuń </button></td>
    </tr>
    </table>

</div>

<ng-template #loggedOut>
    <div><a href="login">Zaloguj się!</a></div>
</ng-template>